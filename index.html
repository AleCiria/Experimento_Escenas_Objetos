<!DOCTYPE html>
<html>
  <head>
    <title>Tarea escenas objetos</title>
    <script src="https://unpkg.com/jspsych@7.3.3"></script>
    <link href="https://unpkg.com/jspsych@7.3.3/css/jspsych.css" rel="stylesheet" type="text/css" />
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych/plugin-preload@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych/plugin-fullscreen@1.2.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-text@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-multi-choice@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych/plugin-instructions@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych/plugin-call-function@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych/plugin-animation@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych/plugin-image-button-response@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych/plugin-image-keyboard-response@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych-contrib/plugin-pipe"></script>
    <script type="text/javascript" src="Stim_List_1.js"></script>
    <script type="text/javascript" src="Stim_List_2.js"></script>
    <script type="text/javascript" src="Stim_List_P_1.js"></script>
    <script type="text/javascript" src="Stim_List_P_2.js"></script>
    <script type="text/javascript" src="stim_list_T_1.js"></script>
    <script type="text/javascript" src="stim_list_T_2.js"></script>
    <script type="text/javascript" src="stim_list_T_3.js"></script>
    <script type="text/javascript" src="stim_list_T_P_1.js"></script>
    <script type="text/javascript" src="stim_list_T_P_2.js"></script>
    <script type="text/javascript" src="stim_list_T_P_3.js"></script>
    <script language="javascript"></script>  
  </head>
  <body></body>
  <script>  


//////////////////////////////////////////////
///////// Experimento Tesis Rebe /////////////
//////////////////////////////////////////////

// Claridad del recuerdo = objetos congruentes e incongruentes con el contexto
// Versión jsPsych 7.3.3
// Se usa DataPipe (plugin), GitHub, y OSF
// Fecha 08/10/23
//////////////////////////////////////////////
///// Plugins usados /////

// jsPsychHtmlButtonResponse
// jsPsychPreload
// jsPsychFullscreen
// jsPsychSurveyText
// jsPsychSurveyMultiChoice
// jsPsychInstructions
// jsPsychHtmlKeyboardResponse
// jsPsychCallFunction
// jsPsychAnimation
// jsPsychImageKeyboardResponse
// jsPsychImageButtonResponse


var jsPsych = initJsPsych({});

/* Se genera un ID para cada participante de forma aleatoria con 8 caracteres alfanuméricos */
const subject_id = jsPsych.randomization.randomID(8);
jsPsych.data.addProperties({subject_id: subject_id});


var timeline = [];


//se crea el primer ramdom Condition de las opciones para la fase de exposición 
var primer_random = jsPsych.randomization.sampleWithoutReplacement([1, 2], 1)[0];

jsPsych.data.addProperties({condicion_fase_1: primer_random});



//La tarea tarda un poco en cargar, gracias por tu paciencia

var aviso = {
  type: jsPsychHtmlButtonResponse,
  stimulus: '<p><div style ="font-size: 20px;"><strong> La tarea comenzará a cargarse al dar click en el botón de "continuar", esto puede tardar unos segundos. </p><p>Gracias por tu paciencia. </p></strong></div>',
  choices: ['CONTINUAR']
};
timeline.push(aviso);


timeline.push({
  type: jsPsychHtmlKeyboardResponse,  
 stimulus: "<div style='font-size: 20px;'><p><strong>Al presionar cualquier tecla se guardarán los datos.</p></strong><p><strong>Por favor, espera hasta que deje de dar vueltas el círculo para que terminen de cargar, cuando la pantalla quede en blanco puedes cerrar la página.</p></strong><p><strong>¡Gracias y hasta pronto!</p> </p></strong></div>"
});
    
const save_data = {
  type: jsPsychPipe,
  action: "save",
  experiment_id: "Uh1IVajIV2t7",
  filename: `${subject_id}.csv`,
  data_string: ()=>jsPsych.data.get().csv()
};
timeline.push(save_data);

jsPsych.run(timeline);

  </script>
</html>


